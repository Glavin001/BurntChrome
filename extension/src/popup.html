<html lang="en">

<meta charset="utf-8" />

<head>
  <title>Chrome Bootstrap</title>

  <script type="text/javascript" src="../dist/deps-content.js"></script>
  <script type="text/javascript" src="../dist/popup.js"></script>

  <link href="../dist/deps-content.css" rel="stylesheet" type="text/css">
  <link href="../src/popup.css" rel="stylesheet" type="text/css">

</head>

<body class="chrome-bootstrap">

  <script id="frame-template" type="text/x-handlebars-template">

    <div class="frame">

      <header>
        <h1>Burnt Chrome</h1>
      </header>

      <div class="content">
        {{#unless isLoggedIn}}

          <!-- Show login page -->
          <div class="login">

            <div class="form-group">
              {{#if isLocked}}
                Locked with email: {{email}}
              {{else}}
                <input type="text" name="email" placeholder="Email" value="{{email}}">
                <span id="emailError" class="error">A valid username is required.</span>	
              {{/if}}
            </div>
            <div class="form-group">
              <input type="password" name="password" placeholder="Password">
              <span id="passwordError" class="error">A valid password is required.</span>
            </div>

            <!--
            <div class="form-group">
              <label>
                <input type="checkbox">
                <span>Save password for next time</span>
              </label>
            </div>
            -->

            <div class="form-group">
              <button id="lock">
                Login
                {{#if isUnlocked}}
                  &amp; Lock
                {{/if}}
              </button>
            </div>
            {{#if isLocked}}
              <div class="form-group">
                <button id="unlock">Unlock</button>
              </div>
            {{/if}}
          </div>

        {{else}}

          <h2>
              Whitelist
              <!-- Locked -->
              for
              <em>{{email}}</em>
              <button id="unlock">Unlock</button>
              <button id="logout">Logout</button>
          </h2>
          <p>
            List of websites that are distinctly allowed.
          </p>

          <div>
            <div class="form-group">
              <input type="text" name="entry-title" placeholder="Title or short description">
              <input type="text" name="entry-url" placeholder="URL">
              <button id="add-to-whitelist">Add to Whitelist</button>
            </div>
          </div>

          <ul class="highlightable editable">
            {{#each whitelist as |website key|}}
              <li>
                <a href={{website.url}} target="_blank">
                  <dl>
                    <dt>{{website.title}}</dt>
                    <dd>{{website.url}}</dd>
                  </dl>
                </a>
                <div id={{website.url}} class="delete">Delete</div>
              </li>
            {{/each}}
          </ul>

        {{/unless}}

      </div>
    </div>

  </script>

</body>

</html>
